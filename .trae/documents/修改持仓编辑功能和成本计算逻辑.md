## 设计方案

### 1. 创建可复用的成本计算工具函数
```typescript
// utils/calculations.ts
export function calculateCostPrice(shares: number, nav: number, profit: number): number {
  if (shares <= 0 || nav <= 0) return 0;
  // 成本 = (份额 * 净值 - 盈利) / 份额
  return (shares * nav - profit) / shares;
}
```

### 2. 导入时逻辑修改
- 成本单价设为0（不计算）
- 获取并保存最新净值
- 盈利默认为0

### 3. 持仓编辑功能修改
- 添加"持有收益"输入字段
- 输入盈利后自动调用 calculateCostPrice 计算成本
- 保存时更新盈利和成本单价

### 4. 投资组合页面添加刷新按钮
- 添加"刷新数据"按钮
- 可选择刷新当前组合或所有组合
- 刷新时：
  - 获取最新净值
  - 重新计算成本（如果盈利不为0）
  - 更新持仓数据

### 5. 后端API修改
- 持仓表添加 profit 字段
- 支持更新盈利和成本
- 导入时保存最新净值

所有成本计算都调用同一个 calculateCostPrice 函数，确保算法一致。

请确认后我开始实施。